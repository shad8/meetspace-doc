\newenvironment{code}[1][]
{ \vskip5px\minipage{\linewidth} }
{ \endminipage }

\newenvironment{codewithbreakpage}[1][]
{ }%\noindent\minipage{\linewidth}\vspace{0.5\baselineskip}\lstset{basicstyle=\ttfamily\footnotesize,frame=single,#1} }
{ }%\endminipage }
